---
prev: 2
next: 4
---

# The Argon file structure

Your home directory on Argon is `/Users/hawkid`; you will start out here every time you log in.  All users are allowed 1 TB of storage in their home directory.

If you need more storage space than that, there are two other options worth knowing about:

* `/localscratch/Users/hawkid`
* `/nfsscratch`

Both of these are "scratch" space, meaning that files are subject to deletion 30 days after they were created.  Obviously, don't keep anything critical there, but if you're, say, writing a bunch of temporary files with intermediate results and need someplace to stash them, that's what the scratch space is for.  For more on the difference between the two scratch systems, [see here](https://wiki.uiowa.edu/display/hpcdocs/NFS+Scratch+File+System).

# Program files and modules

There are many programs and libraries already pre-installed on the HPC systems.  As one would hope, R is one of those programs.  The HPC system uses modules to manage different versions of these applications, however, so you will need to load the appropriate R module before you can use it.  This is done via commands like:

{% include pre-prompt.html %}
module load R/3.5.1
{% include post-prompt.html %}

Now, there are always new versions of tools coming out, tools depend on other tools, and there are potentially compatibility issues.  To resolve these, the HPC maintainers have what are called "stacks".  These are always changing, so consult [this page](https://wiki.uiowa.edu/display/hpcdocs/Argon+Software+List) for up to date information.  However, at the time of this writing ({{ "now" | date: "%Y-%m-%d" }}), if you want to load R 4.0, you first need to load the latest stack:

{% include pre-prompt.html more="$" %}
module load stack/2020.2
module load r/4.0.2_gcc-8.4.0
{% include post-prompt.html %}

Long story short: if you just want to load R, it's pretty easy.  If you want to make sure you're always working with the latest version, you might need to do some periodic updating of your software stack.  Or you could always [compile R yourself](11.html).

To see what modules are available in your current software stack, use the command `module avail`.  For example:

{% include pre-prompt.html %}
module avail R/
{% include post-prompt.html %}

To see what modules are available across all software stacks, use `module spider`, which has the same syntax.

# Your profile

Typically, there are a few commands that you would like to run at the beginning
of every Argon session.  To do that, you can place them in a profile file called `.bash_profile`.  This file should already exist when you log in for the
first time, ready for you to add things to it.  Note: if you have used linux before, you may be used to customizing your `.bashrc` file; however, `.bashrc` is only for interactive shell sessions and will not be sourced when you submit batch jobs.

For example, the first few lines of your `.bash_profile` file might look like:

{% include pre-file.html file=".bash_profile" %}
#!/bin/bash
export PATH=~/bin:$PATH:

module load R/3.5.1
alias R="R --no-save"
<...more...>
{% include post-file.html %}

This sets up the Linux search path so that the OS knows where your
user-installed applications are (`~/bin`), and loads the R module.  Note that the `.bash_profile` file must be placed in your home directory.

# Your R profile

Since you'll likely be using `R` on Argon, and will likely have to install
packages, it's worth mentioning how to set up a local directory in which to install them (otherwise, `R` will ask you questions about it every time you run `install.packages()`).

Suppose you wanted to install all of your R packages into a directory called `.Rlib`.  You would start by making the directory:

{% include pre-prompt.html %}
mkdir .Rlib
{% include post-prompt.html %}

And then tell `R` to use that as your local library by adding this
to your `.Rprofile` file (you may have to create this file first):

{% include pre-file.html file=".Rprofile" %}
.libPaths("~/.Rlib")
options(repos=c(CRAN="https://mirror.las.iastate.edu/CRAN"))
{% include post-file.html %}

The second line is optional, but will stop R from asking you about what mirror you want to use every time you install a package.
